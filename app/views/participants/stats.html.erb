<h1>Participants Stats</h1>

<p>Applications: <%= @participants.count %></p>

<h2>Workshop stats</h2>

<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>1st choice</th>
      <th>2nd choice</th>
      <th>3rd choice</th>
    </tr>
  </thead
  <% @workshops.each do |workshop| %> 
    <tr>
      <td><%= workshop.name %></td>
      <td><%= @participants.select {|f| f["workshop1"] == workshop.number}.count %></td>
      <td><%= @participants.select {|f| f["workshop2"] == workshop.number}.count %></td>
      <td><%= @participants.select {|f| f["workshop3"] == workshop.number}.count %></td>
    </tr>
  <% end %>
</table>

<h2>Participant map</h2>

<%= render 'shared/participant_map' %>
<br />
<h2>Participants per day</h2>

<%= render 'shared/participant_per_day' %>
<br />

